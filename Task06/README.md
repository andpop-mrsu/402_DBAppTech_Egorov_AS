# Task06 — Игра "Крестики-нолики" (Веб-версия)

## Описание проекта

Это веб-приложение, реализующее классическую игру "Крестики-нолики". Проект является развитием предыдущей консольной PHP-версии и переносит всю логику в браузер с использованием современного JavaScript (ES6), HTML5 и CSS3.

Игра позволяет пользователю сразиться с компьютерным оппонентом на игровом поле настраиваемого размера (от 3x3 до 10x10). Все сыгранные партии, включая каждый ход, автоматически сохраняются в локальной NoSQL базе данных браузера — **IndexedDB**. Пользователь может в любой момент просмотреть историю своих игр и запустить анимированный повтор любой из них.

**Ссылка на работающую игру:** https://eario13.github.io/tic-tac-toe-web/

## Правила игры

*   Игра всегда начинается с хода крестиков (X).
*   В начале каждой партии случайным образом определяется, каким символом (X или O) будет играть человек.
*   Игрок и компьютер делают ходы по очереди, занимая свободные клетки на поле.
*   Партия заканчивается, когда один из игроков выстраивает линию из своих символов по горизонтали, вертикали или диагонали, либо когда все клетки на поле заполняются (ничья).
*   Результат каждой игры **сохраняется в локальной базе данных браузера (IndexedDB)**.

## Интерфейс и управление

В отличие от консольной версии, управление осуществляется через графический веб-интерфейс:

1.  **Панель "Новая игра"**:
    *   **Ваше имя**: Поле для ввода имени игрока.
    *   **Размер поля**: Выпадающий список для выбора размера игрового поля от 3x3 до 10x10.
    *   **Кнопка "Начать новую игру"**: Запускает новую партию с выбранными параметрами.

2.  **Игровое поле**:
    *   Центральная область, где отображается сетка для игры.
    *   Ходы совершаются кликом левой кнопкой мыши по свободной ячейке.

3.  **Панель "История игр"**:
    *   **Кнопка "Показать список игр"**: При нажатии загружает и отображает список всех сохраненных партий. Кнопка меняет название на "Назад".
    *   **Кнопка "Назад"**: Скрывает список игр.
    *   **Список игр**: Каждая запись в списке содержит информацию о партии (ID, дата, имена игроков, результат). Клик по любой записи запускает ее анимированный повтор.
    *   **Кнопка "Прервать повтор"**: Появляется во время воспроизведения игры и позволяет немедленно остановить его и вернуться к списку игр.

## Ключевые изменения и технологии (Task06)

Этот проект демонстрирует перенос приложения с серверной (PHP CLI) на клиентскую (браузер) платформу.

*   **Переход на веб-платформу**: Весь код переписан с PHP на **JavaScript (ES6)** с использованием модульной системы (`import`/`export`).
*   **Графический пользовательский интерфейс (GUI)**: Вместо текстовой консоли используется интерактивный интерфейс, созданный с помощью **HTML5** и стилизованный с **CSS3** (включая Flexbox и Grid Layout).
*   **Хранение данных в IndexedDB**: На смену серверной базе данных SQLite пришла **IndexedDB** — встроенная в браузер NoSQL база данных для хранения значительных объёмов структурированных данных на стороне клиента. Все операции с базой данных (создание, чтение, запись) выполняются асинхронно.
*   **Асинхронное программирование**: Логика приложения активно использует `async/await` и `Promise` для работы с IndexedDB и для реализации неблокирующих анимаций (например, задержки при повторе ходов).

## Требования

*   Современный веб-браузер с поддержкой ES6-модулей и IndexedDB (например, Google Chrome, Mozilla Firefox, Safari, Microsoft Edge последних версий).

## Локальная разработка и запуск

### Важное замечание о запуске

Вы не можете просто открыть файл `index.html` напрямую в браузере (через `file:///...`), так как это вызовет ошибку безопасности **CORS**.

**Почему так происходит?**
Современные браузеры в целях безопасности блокируют загрузку JavaScript-модулей (файлов с `import`/`export`) с локальной файловой системы. Это стандартная политика, которая предотвращает выполнение потенциально вредоносных скриптов, которые могли бы получить доступ к вашим локальным файлам.

### Решение: Использование локального веб-сервера

Чтобы игра работала корректно, ее нужно запускать через локальный веб-сервер, который будет отдавать файлы по протоколу `http://`. Самый простой способ сделать это — использовать расширение **Live Server** для редактора кода **Visual Studio Code**.

1.  **Установите VS Code**, если у вас его нет.
2.  Откройте в нем папку с проектом (`Task06`).
3.  Перейдите во вкладку **Extensions** (Расширения) слева (иконка с квадратиками).
4.  В поиске введите `Live Server` и установите расширение от Ritwick Dey.
5.  После установки, кликните правой кнопкой мыши по файлу `index.html` в вашем проекте и выберите **"Open with Live Server"**.
6.  Проект автоматически откроется в вашем браузере по адресу вроде `http://127.0.0.1:5500`, и все будет работать.

## Структура проекта
Task06/
├── js/
│ ├── db.js # Модуль для асинхронной работы с IndexedDB
│ ├── board.js # Класс Board (логика игровой доски)
│ ├── player.js # Классы Player, HumanPlayer, ComputerPlayer
│ ├── game.js # Класс Game (основная игровая логика)
│ └── app.js # Главный скрипт: управление UI, обработка событий
├── css/
│ └── style.css # Стили для оформления интерфейса
├── index.html # Основная HTML-структура страницы
└── README.md # Эта документация